<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <link rel="stylesheet" href="/styles/product.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        #body {
            display: flex;
            width: 95%;
            height: auto;
            /* margin: auto; */
            justify-content: space-between;
            font-family: 'Roboto', sans-serif;
        }

        #list {
            width: 370px;
            height: 100%;
            margin-right: 20px;
            justify-content: left;
            position: sticky;
            top: 0;
            z-index: 3;  
        }

        .bar{
            width: 100%;
            height: 50px;
            border: 2px solid black;
            font-size: x-large;
            background-color: rgb(247, 127, 153);
            color: aliceblue;
            position: sticky;
           
        }

        #products {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            margin: auto;
            gap: 10px;
            width: 100%;
        }

        #products>div {
            gap: 10px;
            text-align: center;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            padding: 10px;

        }

        #products img {
            width: 100%;
        }

        #products button {
            width: 200px;
            height: 50px;
            display: flex;
            margin: auto;
            text-align: center;
            align-items: center;
            color: aliceblue;
            background-color: black;
            gap: 10px;
            margin-bottom: 20px;
            border-radius: 40px;
            justify-content: center;
        }

        #products button:hover {
            background-color: rgb(255, 134, 134);
            transform: scale(1.2);
        }
    </style>
</head>

<body>
    <!-- nav bar of product page -->
    <nav class="navbar-1-2">
        <nav class="navbar-1">
            <div id="left">
               <a href="/index.html"><h4>BEAUTY BONANZA Get Your Daily Dose Of Amazing Deals</h4></a> 
            </div>
            <div id="right">
                <button id="Getapp-btn"><i class="fa-solid fa-mobile-screen-button"></i> Get App</button> |
                <button id="Stores"><i class="fa-sharp fa-solid fa-location-dot"></i> Stores & Events</button> |
                <button><i class="fa-solid fa-gift"></i> Gift Card</button> |
                <button><i class="fa-solid fa-question"></i> Help</button>
            </div>
        </nav>
    
        <nav class="navbar-2">
            <div id="left1">
                <div>
                    <a href=""><img src="https://bl-i.thgim.com/public/incoming/t8zkyh/article65347390.ece/alternates/FREE_1200/Nykaa.png" alt="NYKAA Logo"></a>
                </div>
                <div><a href="">Categories</a></div>
                <div><a href="">Brands</a></div>
                <div><a href="">Luke</a></div>
                <div><a href="">Nyka Fashion</a></div>
                <div><a href="">Beauty Advice</a></div>
            </div>
            <div id="right1">
            <form id="search" action="">
                <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                <input type="text" placeholder="Search on Nykaa">
            </form>
            <a href="/html/login.html"><button id="Signin-btn">Sign in</button></a>
            <div id="bag"><a href="/html/cart.html"><i class="fa-solid fa-bag-shopping"></i></a></div>
            
            </div>
            <a href="/index.html">homeüè°</a>
            <a href="/html/profile.html">ü¶Å</a>
        </nav>
    </nav>
        <nav class="navbar-3">
            <div>
                <div><a href="./product.html">Makeup</a></div>
                <div><a href="./product.html">Skin</a></div>
                <div><a href="./product.html">Hair</a></div>
                <div><a href="./product.html">Appliances</a></div>
                <div><a href="./product.html">Bath&Body</a></div>
                <div><a href="./product.html">Natural</a></div>
                <div><a href="./product.html">Mom&Baby</a></div>
                <div><a href="./product.html">Health</a></div>
                <div><a href="./product.html">Men</a></div>
                <div><a href="./product.html">Fragrance</a></div>
                <div><a href="">Pop Ups</a></div>
                <div><a href="">SALE</a></div>
            </div>
            
        </nav>
    <!-- body of product page -->
    <div id="body">
         <div id="list">
            <select id="sortPrice" class="bar">
                <option value=""> Price</option>
                <option value="asc">Ascending</option>
                <option value="desc">Descending</option>
            </select>
            <select id="Rating" class="bar">
                <option value=""> Rating</option>
                <option value="low">1-5</option>
                <option value="high">6-10</option>
            </select>
            <select id="dresses" class="bar">
                <option value=""> dresses</option>
                <option value="male">male</option>
                <option value="female">female</option>
            </select>
            <select id="Cosmetic" class="bar">
                <option value=""> Cosmetic</option>
                <option value="Cosmetics">Cosmetics</option>
                <option value="Mini">Mini</option>
            </select>
            <select id="dates" class="bar">
                <option value="">Release dates</option>
                <option value="New">New Arival</option>
                <option value="year">2023</option>
                <option value="year">2022</option>
                <option value="year">2021-2000</option>
            </select>
            <select id="Brand" class="bar">
                <option value=""> Brands</option>
                <option value="LV">louis vuitton</option>
                <option value="gucci">Gucci</option>
                <option value="balenciaga">Balenciaga</option>
            </select>
            <select id="Cosmetic" class="bar">
                <option value=""> Cosmetic</option>
                <option value="Cosmetics">Cosmetics</option>
                <option value="Mini">Mini</option>
            </select>
        </div>
        <div id="products">

        </div>
    </div>
    
    <!-- footer of product Page -->
    <div class="Footer-1">
        <div class="Footer-1-1">
            <div>
                <i class="fa-solid fa-envelope"></i>  Get special discount on your inbox
                <br><br>
                <form id="Send-Email" action="">
                    <input type="text" placeholder="Your Email">
                    <button type="submit">Send</i></button>
                </form>
            </div>
            <div>
                <i class="fa-solid fa-mobile-screen-button"></i> EXPERIENCE THE NYKAA MOBILE APP
            </div>
            <div>
                <i class="fa-solid fa-phone"></i> FOR ANY HELP, YOU MAY CALL US AT
                <br> 1800-267-4444
                <br><br>
                (Monday to Saturday, 8AM to 10PM and Sunday, 10AM to 7PM)
            </div>
        </div>
    </div>
    <div class="Footer-2">
       <div class="Footer-2-1">
        <div>
            <img src="https://bl-i.thgim.com/public/incoming/t8zkyh/article65347390.ece/alternates/FREE_1200/Nykaa.png" alt="">
           <p>Who are we?</p> 
           <p>Careers</p> 
           <p>Authenticity</p> 
           <p>Press</p> 
           <p>Testimonials</p> 
           <p>Nykaa CSR</p> 
           <p>Responsible Disclosure</p> 
           <p>Investor Relations</p> 
        </div>
        <div>
            <h5>Help</h5>
            <p>Contact Us</p>
            <p>Frequently asked questions</p>
            <p>Store Locator</p>
            <p>Cancellation & Return</p>
            <p>Shipping & Delivery</p>
            <p>Sell on Nykaa</p>
        </div>
        <div>
            <h5>Inspire Me</h5>
            <p>Beauty Book</p>
            <p>Nykaa TV</p>
            <p>Nykaa Network</p>
            <p>Buying Guides</p>
        </div>
        <div>
            <h5>Quick Links</h5>
            <p>Offer Zone</p>
            <p>Nykaa Man</p>
            <p>Nykaa Fashion</p>
            <p>Buying Guides</p>
            <p>Nykaa Pro</p>
        </div>
        <div>
            <h5>Top Categories</h5>
            <p>Makeup</p>
            <p>Skin</p>
            <p>Hair</p>
            <p>Bath & Body</p>
            <p>Appliances</p>
            <p>Mom and Baby</p>
            <p>Wellness</p>
            <p>Fragrance</p>
            <p>Natural</p>
            <p>Luxe</p>
        </div>
      </div> 
    </div>

    <div class="Footer-3">
        <div class="Footer-3-1">
            <div class="Footer-3-cards flex">
                <div><img src="https://adn-static2.nykaa.com/media/wysiwyg/2021/Free-shipping.svg" alt=""></div>
                <div><h5>FREE SHIPPING</h5><p>On Orders Above <br> ‚Çπ299</p></div>
            </div>
            <div class="Footer-3-cards flex">
                <div><img src="https://adn-static2.nykaa.com/media/wysiwyg/2021/return_accepted.svg" alt=""></div>
                <div><h5>EASY RETURNS</h5><p>15-Day Return Policy</p></div>
            </div>
            <div class="Footer-3-cards flex">
                <div><img src="https://adn-static2.nykaa.com/media/wysiwyg/2021/Authenticity.svg" alt=""></div>
                <div><h5>100% AUTHENTIC</h5><p>Products Sourced <br> Directly</p></div>
            </div>
            <div class="Footer-3-cards flex">
                <div><img src="https://adn-static2.nykaa.com/media/wysiwyg/2021/Brands.svg" alt=""></div>
                <div><h5>1900+ BRANDS</h5><p>1.2 Lakh+ Products</p></div>
            </div>
            <div>
                <div><h5>show us some love ‚ù§ on social media</h5></div>
                <div class="social-media">
                    <div><a href="https://www.instagram.com/mynykaa/?ref=badge"><img src="https://images-static.naikaa.com/media/wysiwyg/2021/icons/ic_social-instagram-filled.svg" alt=""></a></div>
                    <div><a href="https://www.facebook.com/MyNykaa"><img src="https://images-static.naikaa.com/media/wysiwyg/2021/icons/ic_social-facebook-filled.svg" alt=""></a></div>
                    <div><a href="https://www.youtube.com/channel/UCoaH2UtB1PsV7av17woV1BA"><img src="https://images-static.naikaa.com/media/wysiwyg/2021/icons/ic_social-youtube-filled.svg" alt=""></a></div>
                    <div><a href="https://twitter.com/MyNykaa"><img src="https://images-static.naikaa.com/media/wysiwyg/2021/icons/ic_social-twitter-filled.svg" alt=""></a></div>
                    <div><a href="https://www.pinterest.com/mynykaa/"><img src="https://images-static.naikaa.com/media/wysiwyg/2021/icons/ic_social-pinterest-filled.svg" alt=""></a></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    let arr=[];
    let url = `https://639b3492d5141501974eaf28.mockapi.io/nykaa`
    fetch(url).then((res) => {
        return res.json();
    }).then((data) => {
        hotDisplay(data);
        console.log(data);
        data.forEach((e)=>{
            arr.push(e);
        })
        // console.log(arr);
    }).catch((err) => {
        alert(err)
    })
    console.log(arr);
    
    function hotDisplay(data) {
        document.querySelector("#products").innerHTML = null;
        data.forEach(element => {
            let div = document.createElement("div");
            let img = document.createElement("img");
            img.setAttribute("src", element.image);
            let name = document.createElement("h2")
            name.innerText = element.name;
            let price = document.createElement("h3")
            price.innerText = "‚Çπ" + element.price;

            let rating = document.createElement("h3")
            rating.innerText = "Rating:-"+ element.ratings;

            let details = document.createElement("h6")

            // change is here
            details.innerText = element.details.substring(0,75);

            details.innerText = element.details.substring(0,75);


            let addToCard = document.createElement("button")
            addToCard.innerHTML = "Add To Card";
            addToCard.addEventListener("click", () => {
                // change the key is here
                let cardData = JSON.parse(localStorage.getItem("webUserData"))
                let num=cardData[0].userNumberID;
                if (cardData === null) cardData = []
                //for singel products
                let isAllReadyCard = false
                for (let i = 0; i < cardData[num].userCartData.length; i++) {
                    if (cardData[num].userCartData[i].id === element.id) {
                        isAllReadyCard = true;
                        break;
                    }
                }
                if (isAllReadyCard === true) {
                    alert("Product Already in Cart")
                } else {//change the path of storing cart value
                    cardData[num].userCartData.push({ ...element, quantity: 1 })
                    localStorage.setItem("webUserData", JSON.stringify(cardData))
                    alert("Product Added To Cart")
                    console.log(cardData[num].userCartData)
                }

            })
            let gotocart=document.createElement('a');
            gotocart.innerText='go to cart';
            gotocart.href='./cart.html';

            div.append(img, name, price,rating, details, addToCard,gotocart);
            document.querySelector("#products").append(div);
        });
    }


    document.querySelector("#sortPrice").addEventListener("change", () => {
        let value = document.querySelector("#sortPrice").value;
       // console.log(value);
        if (value === "asc") {
            arr.sort((a, b) => {
                return a.price - b.price;
            })
            console.log(arr);
            hotDisplay(arr);
        }
        if (value === "desc") {
            arr.sort((a, b) => {
                return b.price - a.price;
            })
            hotDisplay(arr);
        }
    });


  let cloth=  document.querySelector("#dresses");
  cloth.addEventListener("change",()=>{
    let value =document.querySelector("#dresses").value;

    arr = JSON.parse(localStorage.getItem("card"));
    if(value === "male"){
        arr=arr.filter(element => element.category=="male");
       hotDisplay(arr)
    }
   else if(value === "female"){
        arr=arr.filter(element => element.category=="female");
       hotDisplay(arr)
    }
    else{
        arr = JSON.parse(localStorage.getItem("card"));
       hotDisplay(arr)
    }
})


let cosmetic=  document.querySelector("#Cosmetic");
  cosmetic.addEventListener("change",()=>{
    let value =document.querySelector("#Cosmetic").value;

    arr = JSON.parse(localStorage.getItem("card"));
    if(value === "Cosmetics"){
        arr=arr.filter(element => element.category=="Cosmetics");
       hotDisplay(arr)
    }
   else if(value === "Mini"){
        arr=arr.filter(element => element.category=="Mini");
       hotDisplay(arr)
    }
    else{
        arr = JSON.parse(localStorage.getItem("card"));
       hotDisplay(arr)
    }
})



</script>

</html>